<!DOCTYPE html>

<html lang="en">
  <head>
  <title>Deploying an ONTAP Select cluster using the CLI</title>
  <meta charset="utf-8">
  <meta property="og:title" content="Deploying an ONTAP Select cluster using the CLI" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="https://docs.netapp.com/ontap-select/task_cli_deploy_cluster.html" />
	<meta property="og:description" content="You can use the command line interface provided with the ONTAP Select Deploy administration utility to create a single-node or multi-node ONTAP Select cluster." />
  <meta property="og:image" content="https://docs.netapp.com/ontap-select/images/logo-tophat-social.png" />
  <meta property="og:image:alt" content="NetApp Logo" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="format-detection" content="telephone=no">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">
  <meta http-equiv="encoding" content="utf-8">
  <meta http-equiv="nss-type" content="Product Documentation"/>
  <meta http-equiv="nss-subtype" content="User Guide"/>
  
  <meta name="description" content="You can use the command line interface provided with the ONTAP Select Deploy administration utility to create a single-node or multi-node ONTAP Select cluster.">
  <meta name="keywords" content=" administer, administering, cli, create cluster, deploy cluster">
  
  

  <!-- Icons -->
  <link rel="icon" href="/ontap-select/images/favicon.ico" type="image/x-icon">

  <!-- RSS Feed -->
  

  <!-- CSS Definitions: NetApp CSS should be defined after generic css -->

  <!-- Elastic Search -->
  <link rel="stylesheet" href="//cdn.jsdelivr.net/searchkit/0.10.0/theme.css">

  <!-- LUCI CSS Content -->
  <link rel="stylesheet" href="/ontap-select/common/css/esb.min.css">
  <link rel="stylesheet" href="/ontap-select/common/css/netapp-library.min.css">
  <link rel="stylesheet" href="/ontap-select/common/css/doc.css">
  <link rel="stylesheet" href="/ontap-select/common/css/doc-components.css">

  <link rel="stylesheet" href='/ontap-select/css/na-sidebar.css' type='text/css'>
  <link rel='stylesheet' href='/ontap-select/css/na-search.css' type='text/css'>
  <link rel='stylesheet' href='/ontap-select/css/clouddocs.css' type='text/css'>

  <!-- Font awesome seems to affect our GitHub Icon and generic "arrow box" for external links. -->
  <link rel="stylesheet" type="text/css" href="/ontap-select/css/font-awesome.min.css">
  <!-- <link rel="stylesheet" href="/ontap-select/css/customstyles.css"> -->
  <!-- Controls the shadow effect for search dropdown menu -->
  <link rel="stylesheet" href="/ontap-select/css/boxshadowproperties.css">

  <!-- NetApp CSS controls the technical content -->
  <link rel='stylesheet' href='/ontap-select/css/netapp.css' type='text/css'>

  

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
  <!-- Used to import Promise for IE. Required for SearchKit -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.5/bluebird.min.js"></script>
  
    <script src='/ontap-select/js/na-search.js'></script>
  

  
  <link rel='stylesheet' href='/ontap-select/css/na-pagenav.css' type='text/css' id="pagenav-css">
  <script src='/ontap-select/js/na-pagenav.js'></script>
  

  <link rel='stylesheet' href='/ontap-select/css/prism.css' type='text/css'>
  <link rel='stylesheet' href='/ontap-select/css/prism-netapp.css' type='text/css'>

  <script src='/ontap-select/js/clouddocs.js'></script>
  <script src='/ontap-select/js/s_code_impl.js'></script>
  <script src='/ontap-select/js/jquery.navgoco.min.js'></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  <script src='/ontap-select/js/toc.js'></script>
  <script src='/ontap-select/js/customscripts.js'></script>

  <script>
      $(document).ready(function() {
          
          var collapseOnInit = true;
          

          var navSettings = {
              "caretHtml": '',
              "accordion": collapseOnInit,
              "openClass": 'active', // open
              "save": false, // leave false or nav highlighting doesn't work right
              "cookie": {
                  "name": 'navgoco',
                  "expires": false,
                  "path": '/'
              },
              "slide": {
                  "duration": 400,
                  "easing": 'swing'
              }
          };

          // Initialize navgoco with default options
          $("#mysidebar").navgoco(navSettings);
          

          $("#collapseAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
              e.preventDefault();
              $("#mysidebar").navgoco('toggle', true);
          });

      });

  </script>
  <script>
      $(document).ready(function() {
          $("#tg-sb-link").click(function() {
              $("#tg-sb-sidebar").toggle();
              $("#tg-sb-content").toggleClass('col-md-9');
              $("#tg-sb-content").toggleClass('col-md-12');
              $("#tg-sb-icon").toggleClass('fa-toggle-on');
              $("#tg-sb-icon").toggleClass('fa-toggle-off');
          });
      });
  </script>

  <!-- Controls the i18n Browser Redirection -->
  <script>
    var siteLocales = [];
    
      siteLocales.push("us-en");
    

    standardizeUrl(siteLocales, "clouddocs.netapp.com", "https://docs.netapp.com");
  </script>

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-81697994-3"></script>
  <script>
  if (document.location.hostname === "docs.netapp.com") {
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-81697994-3');
  }
  </script>
</head>


  <body class="n-doc__component-detail">
    <a href="#n-main-content" class="visually-hidden">Skip to main content</a>
<div class="n-off-canvas-menu">
  <div class="n-off-canvas-menu__menu">
    <div class="n-off-canvas-menu__menu-inner">
      <div class="n-off-canvas-menu__property-title"></div>
      <ul class="n-off-canvas-menu__property-navigation-list">
        <li class="n-off-canvas-menu__property-navigation-list-item ">
          <a href="https://docs.netapp.com/us-en/" class="n-off-canvas-menu__property-navigation-link">
            Home
          </a>
          <div class="n-off-canvas-menu__child-menu">
            <ul class="n-menu__list">

            </ul>
          </div>
        </li>
      </ul>

      <ul class="n-off-canvas-menu__global-navigation-list">
         <li class="n-off-canvas-menu__global-navigation-list-header">More From NetApp</li>
         <li class="n-off-canvas-menu__global-navigation-list-item"><a href="#" class="n-off-canvas-menu__global-navigation-link">Netapp.com</a></li>
      </ul>
    </div>
  </div>
</div>

    <div class="n-off-canvas-menu__content-wrap">
      <!-- Header -->
      <header>
  <!-- Top Hat -->
  <div class="n-top-hat">
    <div class="n-container">
      <div class="n-top-hat__cross-property-nav">
        <ul class="n-top-hat__list">
            <li class="n-top-hat__list-item">
              <a href="http://www.netapp.com" class="n-top-hat__link">NetApp.com</a>
            </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Property Bar -->
  <div class="n-property-bar n-property-bar--v3">
    <div class="n-property-bar__inner-wrap">
      <div class="n-property-bar__menu-toggle">
        <a href="#" class="n-property-bar__menu-toggle-link"><span class="n-property-bar__menu-toggle-text">Menu</span><svg class="n-icon-bars n-property-bar__menu-toggle-icon" aria-labelledby="title">
          <title>bars</title>
          <use xlink:href="/ontap-select/common/svg/sprite.svg#bars"></use>
        </svg></a>
      </div>
      <div class="n-property-bar__property-mark n-property-bar__property-mark--has-property-name">
        <a class="n-property-bar__property-link" href="https://docs.netapp.com">
          <div class="n-property-bar__logo">
            <svg class="n-icon-netapp-mark n-property-bar__netapp-mark-icon" aria-labelledby="title">
              <title>netapp-mark</title>
              <use xlink:href="/ontap-select/common/svg/sprite.svg#netapp-mark"></use>
            </svg>
            <svg class="n-property-bar__logo-svg" aria-labelledby="title">
              <title>NetApp</title>
              <use xlink:href="/ontap-select/common/svg/sprite.svg#netapp-logo"></use>
            </svg>
          </div>
          <h2 class="n-property-bar__property-name"></h2>
        </a>
      </div>

      
      <div id="search-demo-container" class="n-property-bar__search">
        <div id="react-search"></div>
      </div>
      

      <div id="ie-i18n" class="n-property-bar__utils">
        <div id="ie-i18n-menu">
          <ul class="n-property-navigation-bar__utils-list">
            <li class="n-property-navigation-bar__utils-list-item ie-i18n-container">
              <a href="#" class="n-property-navigation-bar__utils-link n-property-navigation-bar__nav-link n-property-navigation-bar__language-selector-toggle ie-i18n-link" data-menu-id="n-property-navigation-bar__menu--language-selector">
                <span class="ie-i18n-lang">English</span>
                <svg class="ie-i18n-icon-container" class="n-property-bar__logo-svg" aria-labelledby="title">
                  <title>globe</title>
                  <use xlink:href="/ontap-select/common/svg/sprite.svg#globe" class="n-icon-globe n-globe__icon"></use>
                </svg>
              </a>
            </li>
          </ul>
        </div>
        
      </div>
    </div>

    <div class="n-property-bar__menus">
      <div id="n-property-navigation-bar__menu--language-selector" class="n-menu n-menu--v3">
        <div class="n-language-selector-menu">
          <div class="n-language-selector-menu__header">
            <span class="n-language-selector-menu__title">Select Your Language</span>
          </div>
          <ul class="n-menu__list">
            <li class="n-menu__list-column">
              <ul class="n-menu__list">
                
                
                
                <li class="n-menu__list-item n-menu__list-item--level-1">
                  <a href="/ontap-select/us-en/" class="n-menu__header-text"><span translate="no" class="notranslate">English</span></a>
                </li>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
              </ul>
            </li>
          </ul>
          <div class="menu__footer">
            <p>Current Language: English
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>


      <!-- Content -->
      <main role="main" id="n-main-content" class="n-main-content">
        
<div class="n-container">
  <div class="n-row">
    <div class="n-doc n-doc__component-list">
      <!-- Sidebar Column -->
      
      <div class="col-md-3" >
          

<ul id="mysidebar" class="nav">
  

  
    <li><a href="index.html">ONTAP Select 9.7 docs</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Concepts</a>
      <ul>
        

  
    <li><a href="concept_ots_overview.html">Product overview</a></li>
  

  
    <li><a href="concept_ots_deploy.html">ONTAP Select Deploy</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Business use cases</a>
      <ul>
        

  
    <li><a href="concept_usecase_overview.html">Business needs and usage scenarios</a></li>
  

  
    <li><a href="concept_usecase_robo.html">Remote and branch office</a></li>
  

  
    <li><a href="concept_usecase_private_cloud.html">Private cloud and data center</a></li>
  

  
    <li><a href="concept_usecase_mc_sds.html">MetroCluster SDS</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="concept_terminology.html">Terminology</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Plan</a>
      <ul>
        

  
    <li><a href="concept_workflow_deploy.html">Deployment workflow</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">ONTAP Select</a>
      <ul>
        

  
    <li><a href="reference_plan_ots_general.html">General requirements</a></li>
  

  
    <li><a href="reference_plan_ots_hardware.html">Hypervisor and hardware</a></li>
  

  
    <li><a href="reference_plan_ots_storage.html">Storage and RAID</a></li>
  

  
    <li><a href="reference_plan_ots_vnas.html">ONTAP Select vNAS</a></li>
  

  
    <li><a href="reference_plan_ots_networking.html">Networking</a></li>
  

  
    <li><a href="reference_plan_ots_two_node.html">Two-node clusters</a></li>
  

  
    <li><a href="reference_plan_ots_robo.html">Remote and branch offices</a></li>
  

  
    <li><a href="reference_plan_ots_mcc_sds.html">MetroCluster SDS</a></li>
  

  
    <li><a href="reference_plan_ots_vcenter.html">VMware vCenter</a></li>
  

  
    <li><a href="reference_plan_ots_plugin.html">VMware vCenter plug-in</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">ONTAP Select Deploy</a>
      <ul>
        

  
    <li><a href="reference_plan_dep_general.html">General requirements</a></li>
  

  
    <li><a href="reference_plan_dep_vmware.html">VMware environment</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="reference_plan_best_practices.html">Best practices</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">License</a>
      <ul>
        

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Options</a>
      <ul>
        

  
    <li><a href="concept_lic_evaluation.html">Evaluation licenses</a></li>
  

  
    <li><a href="concept_lic_production.html">Production licenses</a></li>
  

  
    <li><a href="concept_lic_platforms.html">Platform license offerings</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Capacity pools licensing model</a>
      <ul>
        

  
    <li><a href="concept_lic_cp_operation.html">Operational details</a></li>
  

  
    <li><a href="concept_lic_cp_serial_number.html">Node serial numbers</a></li>
  

  
    <li><a href="concept_lic_cp_restrictions.html">Restrictions</a></li>
  

  
    <li><a href="concept_lic_cp_compare_ct.html">Capacity pools versus capacity tiers</a></li>
  

  
    <li><a href="concept_lic_cp_benefits.html">Summary of benefits</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Purchase</a>
      <ul>
        

  
    <li><a href="concept_lic_workflow.html">Licensing workflow</a></li>
  

  
    <li><a href="task_lic_acquire_ct.html">Capacity tiers</a></li>
  

  
    <li><a href="task_lic_acquire_cp.html">Capacity pools</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="reference_lic_ontap_features.html">ONTAP features</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Install</a>
      <ul>
        

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Pre-installation checklist</a>
      <ul>
        

  
    <li><a href="reference_chk_host_prep.html">Host preparation checklist</a></li>
  

  
    <li><a href="reference_chk_deploy_req_info.html">Deploy utility required information</a></li>
  

  
    <li><a href="reference_chk_select_req_info.html">ONTAP Select required information</a></li>
  

  
    <li><a href="task_chk_nvme_configure.html">NVMe host configuration</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_install_deploy.html">Install ONTAP Select Deploy</a></li>
  

  
    <li><a href="task_deploy_cluster.html">Deploy a cluster</a></li>
  

  
    <li><a href="reference_initial_state.html">Initial cluster state</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Administer</a>
      <ul>
        

  
    <li><a href="concept_adm_before.html">Before you begin</a></li>
  

  
    <li><a href="concept_adm_upgrading_nodes.html">Upgrade nodes</a></li>
  

  
    <li><a href="task_adm_support.html">Diagnostics and support</a></li>
  

  
    <li><a href="task_adm_security.html">Security</a></li>
  

  
    <li><a href="task_adm_connectivity.html">Network connectivity</a></li>
  

  
    <li><a href="task_adm_mediators.html">Mediators</a></li>
  

  
    <li><a href="task_adm_clusters.html">Clusters</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Nodes and hosts</a>
      <ul>
        

  
    <li><a href="task_adm_video_console.html">VM video console</a></li>
  

  
    <li><a href="task_adm_resize.html">Resizing the cluster nodes</a></li>
  

  
    <li><a href="task_adm_replace_drives_swraid.html">Replacing failed SW RAID drives</a></li>
  

  
    <li><a href="task_adm_upgrade_vmfs6.html">Upgrading to VMFS6</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_adm_licenses.html">Licenses</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Deep dive</a>
      <ul>
        

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Storage</a>
      <ul>
        

  
    <li><a href="concept_stor_concepts_chars.html">General concepts and characteristics</a></li>
  

  
    <li><a href="concept_stor_hwraid_local.html">Hardware RAID services for local attached storage</a></li>
  

  
    <li><a href="concept_stor_swraid_local.html">Software RAID services for local attached storage</a></li>
  

  
    <li><a href="concept_stor_vsan_external.html">VSAN and external array configurations</a></li>
  

  
    <li><a href="concept_stor_capacity_inc.html">Increasing storage capacity</a></li>
  

  
    <li><a href="concept_stor_eff_support.html">Storage efficiency support</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Networking</a>
      <ul>
        

  
    <li><a href="concept_nw_concepts_chars.html">General concepts and characteristics</a></li>
  

  
    <li><a href="concept_nw_single_multi_node.html">Single and multi node configuration</a></li>
  

  
    <li><a href="concept_nw_internal_external.html">Internal and external networks</a></li>
  

  
    <li><a href="concept_nw_supported_configs.html">Supported configurations</a></li>
  

  
    <li><a href="concept_nw_vsphere_vswitch_config.html">VMWare vSphere VSwitch configuration</a></li>
  

  
    <li><a href="concept_nw_physical_switch_config.html">Physical switch configuration</a></li>
  

  
    <li><a href="concept_nw_data_mgmt_separation.html">Data and management separation</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">High availability architecture</a>
      <ul>
        

  
    <li><a href="concept_ha_config.html">HA configuration</a></li>
  

  
    <li><a href="concept_ha_mirroring.html">Synchronous replication and mirrored aggregates</a></li>
  

  
    <li><a href="concept_ha_other.html">Other high availability functions</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Performance</a>
      <ul>
        

  
    <li><a href="concept_perf_general.html">General considerations</a></li>
  

  
    <li><a href="concept_perf_premium_ha_direct_ssd_94.html">9.4 Premium HA direct attached SSD storage</a></li>
  

  
    <li><a href="concept_perf_premium_ha_direct_ssd_95.html">9.5 Premium HA direct attached SSD storage</a></li>
  

  
    <li><a href="concept_perf_premium_ha_direct_ssd_96.html">9.6 Premium HA direct attached SSD storage</a></li>
  


      </ul>
    </li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Integrate with vCenter</a>
      <ul>
        

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Getting started</a>
      <ul>
        

  
    <li><a href="concept_vpi_overview.html">Overview</a></li>
  

  
    <li><a href="concept_vpi_architecture.html">Architecture</a></li>
  

  
    <li><a href="concept_vpi_planning.html">Planning</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Manage the plug-in</a>
      <ul>
        

  
    <li><a href="concept_vpi_manage_before.html">Before you begin</a></li>
  

  
    <li><a href="task_vpi_install.html">Install</a></li>
  

  
    <li><a href="task_vpi_access.html">Access</a></li>
  

  
    <li><a href="task_vpi_upgrade.html">Upgrade and remove</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="task_vpi_manually_remove.html">Manually remove the plug-in</a></li>
  

  
    <li><a href="task_vpi_deploy_cluster.html">Deploy a cluster</a></li>
  

  
    <li><a href="concept_vpi_vcenter_integration.html">vCenter integration</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Administer</a>
      <ul>
        

  
    <li><a href="task_vpi_adm_support.html">Diagnostics and support</a></li>
  

  
    <li><a href="task_vpi_adm_network.html">Networking</a></li>
  

  
    <li><a href="task_vpi_adm_clusters.html">Clusters</a></li>
  

  
    <li><a href="task_vpi_adm_licenses.html">Licenses</a></li>
  


      </ul>
    </li>
  

  
    <li><a href="reference_vpi_troubleshooting.html">Troubleshoot</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Automate with REST</a>
      <ul>
        

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Concepts</a>
      <ul>
        

  
    <li><a href="concept_api_rest.html">REST web services</a></li>
  

  
    <li><a href="concept_api_how_access.html">Access the Deploy API</a></li>
  

  
    <li><a href="concept_api_versions.html">Deploy API versioning</a></li>
  

  
    <li><a href="concept_api_operation.html">Basic operation</a></li>
  

  
    <li><a href="concept_api_transaction.html">Request and response transaction</a></li>
  

  
    <li><a href="concept_api_async_proc.html">Asynchronous processing</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Access with a browser</a>
      <ul>
        

  
    <li><a href="concept_api_before_browser.html">Before you begin</a></li>
  

  
    <li><a href="task_api_access_doc_page.html">Access the doc page</a></li>
  

  
    <li><a href="task_api_understanding_call.html">Understanding an API call</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Workflow processes</a>
      <ul>
        

  
    <li><a href="concept_api_before_workflows.html">Before you begin</a></li>
  

  
    <li><a href="reference_api_workflow01.html">Workflow 1 Creating a cluster</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Access with Python</a>
      <ul>
        

  
    <li><a href="concept_api_before_python.html">Before you begin</a></li>
  

  
    <li><a href="concept_api_understanding_scripts.html">Understanding the scripts</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Python code samples</a>
      <ul>
        

  
    <li><a href="reference_api_script_cc.html">Create a cluster</a></li>
  

  
    <li><a href="reference_api_json_cc.html">JSON to create a cluster</a></li>
  

  
    <li><a href="reference_api_script_anl.html">Add a node license</a></li>
  

  
    <li><a href="reference_api_script_dc.html">Delete a cluster</a></li>
  

  
    <li><a href="reference_api_script_common.html">Common support module</a></li>
  

  
    <li><a href="reference_api_script_resize.html">Resize cluster nodes</a></li>
  


      </ul>
    </li>
  


      </ul>
    </li>
  

  
    <li><a href="concept_automate_ansible.html">Automate with Ansible</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Use the CLI</a>
      <ul>
        

  
    <li><a href="concept_cli_before.html">Before you begin</a></li>
  

  
    <li><a href="task_cli_signing_in.html">Sign in using SSH</a></li>
  

  
    <li class="active"><a href="task_cli_deploy_cluster.html">Deploy a cluster</a></li>
  

  
    <li><a href="task_cli_security.html">Security</a></li>
  

  
    <li><a href="task_cli_connectivity.html">Network connectivity</a></li>
  

  
    <li><a href="task_cli_clusters.html">Clusters</a></li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Nodes and hosts</a>
      <ul>
        

  
    <li><a href="task_cli_upgrade_esxi65.html">Upgrading ESXi to 6.5 and higher</a></li>
  


      </ul>
    </li>
  

  
    <!-- Check Container -->
    <li class="subfolders">
      <a href="#">Deploy utility</a>
      <ul>
        

  
    <li><a href="task_cli_upgrade_deploy.html">Upgrade a Deploy instance</a></li>
  

  
    <li><a href="task_cli_migrate_deploy.html">Migrate a Deploy instance</a></li>
  

  
    <li><a href="task_cli_deploy_image_add.html">Add ONTAP Select images</a></li>
  

  
    <li><a href="task_cli_deploy_image_remove.html">Remove ONTAP Select images</a></li>
  

  
    <li><a href="task_cli_deploy_recover_two_node.html">Recover Deploy for a two-node cluster</a></li>
  


      </ul>
    </li>
  


      </ul>
    </li>
  

  
    <li><a href="reference_faq.html">FAQ</a></li>
  

  
    <li><a href="reference_additional_info.html">Get more information</a></li>
  

  
    <li><a href="reference_earlier_versions.html">Earlier versions</a></li>
  

  
    <li><a href="reference_legal_notices.html">Legal notices</a></li>
  


</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

      </div>
      

      <div class="n-doc__component-detail-content n-doc__component-detail-content--show-code">
        <!-- Begin of page container -->
        <article class="page-content">
          



<div class="n-doc__component-detail-heading-wrap">
  <h1 class="n-doc__component-detail-heading">Deploying an ONTAP Select cluster using the CLI
    <span>
      
        <a target="_blank" href="https://github.com/NetAppDocs/ontap-select/blob/master/task_cli_deploy_cluster.adoc" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit on GitHub</a>
        <a target="_blank" href="https://github.com/NetAppDocs/ontap-select/issues/new?body=Page%3A%20[Deploying an ONTAP Select cluster using the CLI](https://docs.netapp.com/us-en/ontap-select/task_cli_deploy_cluster.html)" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Request doc changes</a>
      
    </span>
  </h1>
</div>

<p class="page-details">

<time datetime="2019-11-21 21:36:04 +0000">11/21/2019</time>


<span>Contributors
  
  <a target="_blank" href="https://github.com/dmp-netapp">
    <img  class="avatar avatar-small"
          alt="dmp-netapp"
          width="20" height="20"
          src="https://avatars2.githubusercontent.com/u/50704017?v=4"
          style="border-radius: 50%;"/>
  </a>
  
</span>

</p>

<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>You can use the command line interface provided with the ONTAP Select Deploy administration utility to create a single-node or multi-node ONTAP Select cluster.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="before-you-begin">Before you begin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before creating an ONTAP Select cluster on ESXi, you should understand the required preparation.</p>
</div>
<div class="sect4">
<h5 id="preparing-to-attach-storage-to-the-ontap-select-node"><strong>Preparing to attach storage to the ONTAP Select node</strong></h5>
<div class="paragraph">
<p>If you use a local hardware RAID controller, you must create at least one storage pool at each node for the system data as well as the root and data aggregates. You must attach the storage pool as part of configuring the ONTAP Select node.</p>
</div>
<div class="paragraph">
<p>If you use software RAID, you must create a storage pool for the system data and make sure the SSD drives are available for the root and data aggregates. You must attach the storage pool and disks as part of configuring the ONTAP Select node.</p>
</div>
</div>
<div class="sect4">
<h5 id="available-ontap-select-versions"><strong>Available ONTAP Select versions</strong></h5>
<div class="paragraph">
<p>The Deploy administration utility contains a single version of ONTAP Select. If you want to deploy clusters using an earlier version of ONTAP Select, you must first add the ONTAP Select image to your Deploy instance. See <a href="task_adm_deploy_image_add.html">Adding an ONTAP Select image to Deploy</a> for more information.</p>
</div>
</div>
<div class="sect4">
<h5 id="licensing-ontap-select-for-a-production-deployment"><strong>Licensing ONTAP Select for a production deployment</strong></h5>
<div class="paragraph">
<p>Before deploying an ONTAP Select cluster in a production environment, you must purchase a storage capacity license and download the associated license file. You can license the storage at each node using the <em>capacity tiers</em> model or license a shared pool using the <em>capacity pools</em> model.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="uploading-and-registering-a-license-file">Uploading and registering a license file</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After acquiring a license file with storage capacity, you must upload the file containing the license to the Deploy virtual machine and register it.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you are deploying a cluster for evaluation only, you can skip this step.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Before you begin</div>
<p>You must have the password for the admin user account.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>In a command shell on your local workstation, use the sftp utility to upload the license file to the Deploy virtual machine.</p>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>sftp admin@10.234.81.101 (provide password when prompted)
put NLF-320000nnn.txt
exit</pre>
</div>
</div>
</li>
<li>
<p>Sign in to the Deploy utility CLI with the administrator account using SSH.</p>
</li>
<li>
<p>Register the license:</p>
<div class="paragraph">
<p><code>license add -file-name FILENAME</code></p>
</div>
<div class="paragraph">
<p>Provide the administrator account password when prompted.</p>
</div>
</li>
<li>
<p>Display the licenses in the system to confirm the license was added properly:</p>
<div class="paragraph">
<p><code>license show</code></p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="adding-the-esxi-hypervisor-hosts">Adding the ESXi hypervisor hosts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You must register each hypervisor host where an ONTAP Select node will run. As part of this, the Deploy administration utility authenticates either to the vCenter server managing the host or directly to the ESXi standalone host.</p>
</div>
<div class="paragraph">
<div class="title">About this task</div>
<p>Before you register a host that is managed by vCenter, you must add a management server account for the vCenter server. If the host is not managed by vCenter, you can provide the host credential as part of registering the host. You should use this procedure to add each host.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Sign in to the Deploy utility CLI using SSH with the administrator account.</p>
</li>
<li>
<p>If the host is managed by a vCenter server, add the vCenter account credential:</p>
<div class="paragraph">
<p><code>credential add -hostname &lt;FQDN|IP&gt; -type vcenter -username VCENTER_USERNAME</code></p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>credential add -hostname vc.select.company-demo.com -type vcenter -username administrator@vsphere.local</pre>
</div>
</div>
</li>
<li>
<p>Register the host:</p>
<div class="ulist">
<ul>
<li>
<p>Register a standalone host not managed by vCenter:<br>
<code>host register -name &lt;FQDN|IP&gt; -hypervisor-type ESX -username ESX_USERNAME</code></p>
</li>
<li>
<p>Register a host managed by vCenter:<br>
<code>host register -name &lt;FQDN|IP&gt; -hypervisor-type ESX -mgmt-server &lt;FQDN| IP&gt;</code></p>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>host register -name 10.234.81.14 -hypervisor-type ESX -mgmt-server vc.select.company-demo.com</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Display the state of the host and confirm it is authenicated.</p>
<div class="paragraph">
<p><code>host show -name &lt;FQDN|IP&gt; -detailed</code></p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>host show -name 10.234.81.14 -detailed</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-and-configuring-an-ontap-select-cluster">Creating and configuring an ONTAP Select cluster</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You must create and then configure the ONTAP Select cluster. After the cluster is configured, you can configure the individual nodes.</p>
</div>
<div class="paragraph">
<div class="title">Before you begin</div>
<p>You must decide how many nodes the cluster contains and have the associated configuration information.</p>
</div>
<div class="paragraph">
<div class="title">About this task</div>
<p>When you create an ONTAP Select cluster, the Deploy utility automatically generates the node names based on the cluster name and node count that you provide. Deploy also generates the unique node identifiers.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Sign in to the Deploy utility CLI using SSH with the administrator account.</p>
</li>
<li>
<p>Create the cluster:</p>
<div class="paragraph">
<p><code>cluster create -name CLUSTERNAME -node-count NODES</code></p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster create -name test-cluster -node-count 1</pre>
</div>
</div>
</li>
<li>
<p>Configure the cluster:</p>
<div class="paragraph">
<p><code>cluster modify -name CLUSTERNAME -mgmt-ip IP_ADDRESS -netmask NETMASK -gateway IP_ADDRESS -dns-servers &lt;FQDN|IP&gt;_LIST -dns-domains DOMAIN_LIST</code></p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>cluster modify -name test-cluster -mgmt-ip 10.234.81.20 -netmask 255.255.255.192
-gateway 10.234.81.1 -dns-servers 10.221.220.10 -dnsdomains select.company-demo.com</pre>
</div>
</div>
</li>
<li>
<p>Display the configuration and state of the cluster:</p>
<div class="paragraph">
<p><code>cluster show -name CLUSTERNAME -detailed</code></p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-an-ontap-select-node">Configuring an ONTAP Select node</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You must configure each of the nodes in the ONTAP Select cluster.</p>
</div>
<div class="paragraph">
<div class="title">Before you begin</div>
<p>You must have the configuration information for the node. The capacity tier license file should be uploaded and installed at the Deploy utility.</p>
</div>
<div class="paragraph">
<div class="title">About this task</div>
<p>You should use this procedure to configure each node. A capacity tier license is applied to the node in this example.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Sign in to the Deploy utility CLI using SSH with the administrator account.</p>
</li>
<li>
<p>Determine the names assigned to the cluster nodes:</p>
<div class="paragraph">
<p><code>node show -cluster-name CLUSTERNAME</code></p>
</div>
</li>
<li>
<p>Select the node and perform basic configuration:<br>
<code>node modify -name NODENAME -cluster-name CLUSTERNAME -host-name &lt;FQDN|IP&gt; -license-serial-number NUMBER -instance-type TYPE -passthrough-disks false</code></p>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>node modify -name test-cluster-01 -cluster-name test-cluster -host-name 10.234.81.14
-license-serial-number 320000nnnn -instance-type small -passthrough-disks false</pre>
</div>
</div>
<div class="paragraph">
<p>The RAID configuration for the node is indicated with the <em>passthrough-disks</em> parameter. If you are using a local hardware RAID controller, this value must be false. If you are using software RAID, this value must be true.</p>
</div>
<div class="paragraph">
<p>A capacity tier license is used for the ONTAP Select node.</p>
</div>
</li>
<li>
<p>Display the network configuration available at the host:</p>
<div class="paragraph">
<p><code>host network show -host-name &lt;FQDN|IP&gt; -detailed</code></p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>host network show -host-name 10.234.81.14 -detailed</pre>
</div>
</div>
</li>
<li>
<p>Perform network configuration of the node:</p>
<div class="paragraph">
<p><code>node modify -name NODENAME -cluster-name CLUSTERNAME -mgmt-ip IP -management-networks NETWORK_NAME -data-networks NETWORK_NAME -internal-network NETWORK_NAME</code></p>
</div>
<div class="paragraph">
<p>When deploying a single-node cluster, you do not need an internal network and should remove -internal-network.</p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>node modify -name test-cluster-01 -cluster-name test-cluster -mgmt-ip 10.234.81.21
-management-networks sDOT_Network -data-networks sDOT_Network</pre>
</div>
</div>
</li>
<li>
<p>Display the configuration of the node:</p>
<div class="paragraph">
<p><code>node show -name NODENAME -cluster-name CLUSTERNAME -detailed</code></p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="literalblock">
<div class="content">
<pre>node show -name test-cluster-01 -cluster-name test-cluster -detailed</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="attaching-storage-to-an-ontap-select-nodes">Attaching storage to an ONTAP Select nodes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You must configure the storage used by each of the nodes in the ONTAP Select cluster. Each node must be assigned at least one storage pool.</p>
</div>
<div class="paragraph">
<div class="title">Before you begin</div>
<p>You must have created the storage pool using VMware vSphere.</p>
</div>
<div class="paragraph">
<div class="title">About this task</div>
<p>This procedure assumes that a local hardware RAID controller is used. You should configure the storage at each node in the ONTAP Select cluster.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Sign in to the Deploy utility CLI using SSH with the administrator account.</p>
</li>
<li>
<p>Display the storage pools available at the host:</p>
<div class="paragraph">
<p><code>host storage pool show -host-name &lt;FQDN|IP&gt;</code></p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>host storage pool show -host-name 10.234.81.14</pre>
</div>
</div>
<div class="paragraph">
<p>You can also obtain the available storage pools through VMware vSphere.</p>
</div>
</li>
<li>
<p>Attach an available storage pool to the ONTAP Select node:</p>
<div class="paragraph">
<p><code>node storage pool attach -name POOLNAME -cluster-name CLUSTERNAME -node-name NODENAME -capacity-limit LIMIT</code></p>
</div>
<div class="paragraph">
<p>If you include the -capacity-limit parameter, specify the value as GB or TB.</p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>node storage pool attach -name sDOT-02 -cluster-name test-cluster -
node-name test-cluster-01 -capacity-limit 500GB</pre>
</div>
</div>
</li>
<li>
<p>Display the storage pools attached to the node:</p>
<div class="paragraph">
<p><code>node storage pool show -cluster-name CLUSTERNAME -node-name NODENAME</code></p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>node storage pool show -cluster-name test-cluster -node-name testcluster-01</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deploying-an-ontap-select-cluster">Deploying an ONTAP Select cluster</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After the cluster and nodes have been configured, you can deploy the cluster.</p>
</div>
<div class="paragraph">
<div class="title">Before you begin</div>
<p>Before deploying a multi-node cluster, you should run the network connectivity checker to confirm the connectivity among the cluster nodes on the internal network.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Sign in to the Deploy utility CLI using SSH with the administrator account.</p>
</li>
<li>
<p>Deploy the ONTAP Select cluster:</p>
<div class="paragraph">
<p><code>cluster deploy -name CLUSTERNAME</code></p>
</div>
<div class="paragraph">
<p>Example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>cluster deploy -name test-cluster</pre>
</div>
</div>
<div class="paragraph">
<p>Provide the password to be used for the ONTAP administrator account when prompted.</p>
</div>
</li>
<li>
<p>Display the status of the cluster to determine when it has been successfully deployed successfully:</p>
<div class="paragraph">
<p><code>cluster show -name CLUSTERNAME</code></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">After you finish</div>
<p>You should back up the ONTAP Select Deploy configuration data.</p>
</div>
</div>
</div>



        </article>
        <!-- Page Container -->
      </div>

      
      <div class="page-nav-container">
        <nav class="page-nav-fixed">
          <div class="page-nav-title">On this page:</div>
          <ul class="page-nav-inner" id="page-menu"></ul>
        </nav>
      </div>
      

    </div>
  </div>
</div>


      </main>

      <!-- Footer -->
      
      <footer class="n-footer n-footer--v1" style="border-top: solid 10px #DFDFDF;">
        <div class="n-footer__bottom">
          <div class="n-container">
            <div class="n-footer__bottom-left">
              <div class="n-footer__copyright">
                  <a href="//www.netapp.com/us/legal/copyright.aspx" class="n-footer__copyright-link">Â© 2020 NetApp, Inc.</a>
              </div>
              <div class="n-footer__copyright">
                <a href="//www.netapp.com/us/legal/index.aspx" class="n-footer__copyright-link">Legal</a>
              </div>
              <div class="n-footer__social-links n-footer__copyright">
                <ul class="n-footer__social-link-list">
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-blog" href="http://blog.netapp.com" target="_blank" title="blog" alt="blog">
                      <span class="n-footer__social-link-text">blog</span>
                      <svg class="n-icon-blog n-footer__social-link-icon" aria-labelledby="title">
                        <title>blog@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap-select/common/svg/sprite.svg#blog"></use>
                      </svg>
                    </a>
                  </li>
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-community" href="http://community.netapp.com/" target="_blank" title="community" alt="community">
                      <span class="n-footer__social-link-text">community</span>
                      <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                        <title>community@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap-select/common/svg/sprite.svg#comments"></use>
                      </svg>
                    </a>
                  </li>

                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-twitter" href="https://twitter.com/netappdoc" target="_blank" title="twitter" alt="twitter">
                      <span class="n-footer__social-link-text">twitter</span>
                      <svg class="n-icon-twitter n-footer__social-link-icon" aria-labelledby="title">
                        <title>twitter@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap-select/common/svg/sprite.svg#twitter"></use>
                      </svg>
                    </a>
                  </li>
                  <li class="n-footer__social-link-list-item">
                    <a class="n-footer__social-link" data-ntap-social="follow-youtube" href="https://www.youtube.com/user/NetAppTechCommTV/" target="_blank" title="youtube" alt="youtube">
                      <span class="n-footer__social-link-text">youtube</span>
                      <svg class="n-icon-youtube n-footer__social-link-icon" aria-labelledby="title">
                        <title>youtube@</title>
                        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/ontap-select/common/svg/sprite.svg#youtube"></use>
                      </svg>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="n-footer__bottom-right">
              <div class="n-footer__copyright">
                <a href="https://docs.netapp.com/us-en/contribute/" class="n-footer__copyright-link">Contribute</a>
              </div>
              <div class="n-footer__copyright">
                <a target="_self" class="n-footer__copyright-link" href="javascript:netapp_mailto()">Email your feedback</a>
              </div>
              <div class="n-footer__copyright">
                <a href="https://docs.netapp.com/us-en/announcements/" class="n-footer__copyright-link">Announcements</a>
              </div>
            </div>
          </div>
        </div>
      </footer>

    </div>

    <script src="/ontap-select/common/js/components.js"></script>
    <script src="/ontap-select/common/js/doc-components.js"></script>

    <!-- Elasticsearch JS -->
    <script type="text/javascript" src='/ontap-select/js/bundle.js'></script>

    <!-- Syntax Highlighting -->
    <script type="text/javascript" src='/ontap-select/js/prism.js'></script>
    <script type="text/javascript" src='/ontap-select/js/prism-curl.js'></script>

  </body>

  
</html>


